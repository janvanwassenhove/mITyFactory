# GitHub Copilot Instructions for {{app_name}}

## Project Overview

{{app_name}} is a fullstack application with Spring Boot backend and Vue.js frontend, generated by mITyFactory.

## Tech Stack

### Backend
- **Language**: Java 21
- **Framework**: Spring Boot 3.x
- **Build**: Maven
- **Testing**: JUnit 5, Mockito

### Frontend
- **Framework**: Vue 3 with Composition API
- **Language**: TypeScript
- **Build**: Vite
- **Testing**: Vitest

## Project Structure

```
{{app_name}}/
├── backend/
│   ├── src/main/java/
│   ├── src/test/java/
│   └── pom.xml
├── frontend/
│   ├── src/
│   ├── tests/
│   └── package.json
├── docker-compose.yml
├── .specify/                       # Spec Kit
└── .github/                        # GitHub configuration
```

---

## Backend Guidelines

### Spring Boot Patterns

```java
@RestController
@RequestMapping("/api/v1/items")
@CrossOrigin(origins = "${app.cors.allowed-origins}")
public class ItemController {
    private final ItemService itemService;

    @GetMapping("/{id}")
    public ResponseEntity<ItemDto> getItem(@PathVariable Long id) {
        return ResponseEntity.ok(itemService.findById(id));
    }
}
```

---

## Frontend Guidelines

### Vue Composition API

```vue
<script setup lang="ts">
import { ref, onMounted } from 'vue'
import { itemApi } from '@/services/api'

const items = ref<Item[]>([])

onMounted(async () => {
  items.value = await itemApi.getAll()
})
</script>
```

---

## Accessibility (A11Y) Requirements

**CRITICAL**: Target WCAG 2.1 AA compliance for the Vue frontend.

### A11Y Patterns

```vue
<template>
  <main role="main">
    <!-- Form with proper labels -->
    <form @submit.prevent="handleSubmit">
      <label for="item-name">Item Name</label>
      <input 
        id="item-name" 
        v-model="name"
        :aria-invalid="!!errors.name"
        aria-describedby="name-error"
      >
      <span id="name-error" role="alert" v-if="errors.name">
        {{ errors.name }}
      </span>
      
      <button type="submit">Save</button>
    </form>
    
    <!-- Status announcements -->
    <div aria-live="polite" class="sr-only">
      {{ statusMessage }}
    </div>
  </main>
</template>

<style>
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}
</style>
```

### A11Y Checklist

- [ ] All interactive elements keyboard accessible
- [ ] Color contrast ≥ 4.5:1 for text
- [ ] Form inputs have labels
- [ ] Focus indicators visible
- [ ] Images have alt text
- [ ] Dynamic content announced to screen readers

---

## Testing Requirements

### Backend
- Unit tests for services with 80%+ coverage
- Integration tests for API endpoints

### Frontend
- Unit tests for composables and stores
- Component tests with Vue Test Utils
- A11Y tests with axe-core

---

## Factory Alignment

This application follows mITyFactory principles:

1. **Spec-driven**: All features defined in `.specify/features/`
2. **Container-first**: Docker Compose for local development
3. **Deterministic**: Reproducible builds
4. **Quality gates**: Tests for both frontend and backend

---

## DO ✓

- Keep backend and frontend concerns separated
- Use DTOs for API communication
- Write tests for new features
- Follow the spec in `.specify/`

## DON'T ✗

- Hardcode URLs or configuration
- Commit secrets
- Skip input validation on either end
- Mix backend and frontend code
