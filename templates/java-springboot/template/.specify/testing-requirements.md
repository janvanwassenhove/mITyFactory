# {{app_name}} Testing Requirements

## Purpose

This document defines the testing requirements for {{app_name}}. All contributors must follow these guidelines.

---

## Test Categories

### 1. Unit Tests

**Required for**: All service classes and utilities.

**Coverage targets**: 80%+

**Location**: `src/test/java/.../unit/`

```java
@ExtendWith(MockitoExtension.class)
class ItemServiceTest {
    @Mock
    private ItemRepository itemRepository;

    @InjectMocks
    private ItemService itemService;

    @Test
    void findById_WhenExists_ReturnsItem() {
        when(itemRepository.findById(1L)).thenReturn(Optional.of(item));
        var result = itemService.findById(1L);
        assertThat(result).isEqualTo(expected);
    }
}
```

---

### 2. Integration Tests

**Required for**: API endpoints and database operations.

**Location**: `src/test/java/.../integration/`

```java
@SpringBootTest
@AutoConfigureMockMvc
class ItemControllerIT {
    @Autowired
    private MockMvc mockMvc;

    @Test
    void createItem_ValidInput_ReturnsCreated() throws Exception {
        mockMvc.perform(post("/api/v1/items")
                .contentType(MediaType.APPLICATION_JSON)
                .content("{\"name\":\"Test\"}"))
            .andExpect(status().isCreated());
    }
}
```

---

### 3. Repository Tests

**Required for**: Custom query methods.

**Location**: `src/test/java/.../repository/`

```java
@DataJpaTest
class ItemRepositoryTest {
    @Autowired
    private ItemRepository itemRepository;

    @Test
    void findByName_WhenExists_ReturnsItem() {
        // ...
    }
}
```

---

## Test Quality Standards

### ✅ DO

1. Test one thing per test
2. Use descriptive test method names (Given_When_Then)
3. Test edge cases and error conditions
4. Use Mockito for unit test isolation
5. Use `@Transactional` for test cleanup

### ❌ DON'T

1. Test implementation details
2. Write tests that depend on order
3. Use real external services (use Testcontainers)
4. Skip error path testing
5. Hard-code test data inline

---

## Running Tests

```bash
# All tests
./mvnw test

# With coverage report
./mvnw test jacoco:report

# Unit tests only
./mvnw test -Dgroups=unit

# Integration tests only
./mvnw test -Dgroups=integration
```

---

## Pre-Commit Checklist

- [ ] All tests pass
- [ ] Coverage maintained or improved
- [ ] No Checkstyle violations
- [ ] No SpotBugs warnings

---

*Generated by mITyFactory*
